{"version":3,"file":"shopRoutes.js","sourceRoot":"","sources":["../../src/routes/shopRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,kEAQuC;AACvC,kEAAwE;AACxE,6CAA0C;AAE1C,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,6BAAY,CAAC,CAAC;AAEzB,mBAAmB;AACnB,MAAM,CAAC,IAAI,CACT,GAAG,EACH,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EACnC,eAAM,CAAC,KAAK,CAAC,iBAAiB,EAAE,EAAE,CAAC,EAAE,uBAAuB;AAC5D,2BAAU,CACX,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,yBAAQ,CAAC,CAAC;AAC1B,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,wBAAO,CAAC,CAAC;AAC5B,MAAM,CAAC,GAAG,CACR,MAAM,EACN,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EACnC,eAAM,CAAC,KAAK,CAAC,iBAAiB,EAAE,EAAE,CAAC,EACnC,2BAAU,CACX,CAAC;AACF,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EAAE,2BAAU,CAAC,CAAC;AAEvE,sBAAsB;AACtB,MAAM,CAAC,GAAG,CAAC,iBAAiB,EAAE,6BAAY,CAAC,CAAC;AAE5C,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\r\nimport {\r\n  createShop,\r\n  getShops,\r\n  getShop,\r\n  updateShop,\r\n  deleteShop,\r\n  getShopByVat,\r\n  getShopsByPincode,\r\n} from \"../controllers/shopController\";\r\nimport { authenticate, authorize } from \"../middlewares/authMiddleware\";\r\nimport { upload } from \"../config/multer\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.use(authenticate);\r\n\r\n// Shop CRUD routes\r\nrouter.post(\r\n  \"/\",\r\n  authorize([\"admin\", \"super_admin\"]),\r\n  upload.array(\"shopAttachments\", 10), // Allow up to 10 files\r\n  createShop\r\n);\r\n\r\nrouter.get(\"/\", getShops);\r\nrouter.get(\"/:id\", getShop);\r\nrouter.put(\r\n  \"/:id\",\r\n  authorize([\"admin\", \"super_admin\"]),\r\n  upload.array(\"shopAttachments\", 10),\r\n  updateShop\r\n);\r\nrouter.delete(\"/:id\", authorize([\"admin\", \"super_admin\"]), deleteShop);\r\n\r\n// Special shop routes\r\nrouter.get(\"/vat/:vatNumber\", getShopByVat);\r\n\r\nexport default router;\r\n"]}