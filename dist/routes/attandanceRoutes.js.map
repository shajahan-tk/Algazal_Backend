{"version":3,"file":"attandanceRoutes.js","sourceRoot":"","sources":["../../src/routes/attandanceRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,8EAQ6C;AAC7C,kEAAwE;AAExE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,0BAA0B;AAC1B,MAAM,CAAC,IAAI,CACT,kCAAkC,EAClC,6BAAY,EACZ,IAAA,0BAAS,EAAC,CAAC,QAAQ,CAAC,CAAC,EACrB,qCAAc,CACf,CAAC;AAEF,sBAAsB;AACtB,MAAM,CAAC,GAAG,CAAC,kCAAkC,EAAE,6BAAY,EAAE,oCAAa,CAAC,CAAC;AAE5E,8BAA8B;AAC9B,MAAM,CAAC,GAAG,CACR,qBAAqB,EACrB,6BAAY,EACZ,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,iBAAiB,CAAC,CAAC,EACtD,2CAAoB,CACrB,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,2BAA2B,EAC3B,6BAAY,EACZ,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,iBAAiB,EAAE,QAAQ,CAAC,CAAC,EAChE,gDAAyB,CAC1B,CAAC;AAEF,gDAAgD;AAChD,MAAM,CAAC,GAAG,CACR,6BAA6B,EAC7B,6BAAY,EACZ,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,iBAAiB,EAAE,UAAU,CAAC,CAAC,EAClE,2CAAoB,CACrB,CAAC;AACF,MAAM,CAAC,IAAI,CACT,iBAAiB,EACjB,6BAAY,EACZ,IAAA,0BAAS,EAAC,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,EACnC,qCAAc,CACf,CAAC;AACF,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,4CAAqB,CAAC,CAAC;AACnD,MAAM,CAAC,GAAG,CAAC,yBAAyB,EAAE,iDAA0B,CAAC,CAAC;AAElE,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\r\nimport {\r\n  markAttendance,\r\n  getAttendance,\r\n  getProjectAttendance,\r\n  getTodayProjectAttendance,\r\n  getAttendanceSummary,\r\n  dailyNormalAttendance,\r\n  getNormalMonthlyAttendance,\r\n} from \"../controllers/attendanceController\";\r\nimport { authenticate, authorize } from \"../middlewares/authMiddleware\";\r\n\r\nconst router = express.Router();\r\n\r\n// Driver marks attendance\r\nrouter.post(\r\n  \"/project/:projectId/user/:userId\",\r\n  authenticate,\r\n  authorize([\"driver\"]),\r\n  markAttendance\r\n);\r\n\r\n// Get user attendance\r\nrouter.get(\"/project/:projectId/user/:userId\", authenticate, getAttendance);\r\n\r\n// Get project-wide attendance\r\nrouter.get(\r\n  \"/project/:projectId\",\r\n  authenticate,\r\n  authorize([\"admin\", \"super_admin\", \"project_manager\"]),\r\n  getProjectAttendance\r\n);\r\n\r\nrouter.get(\r\n  \"/project/:projectId/today\",\r\n  authenticate,\r\n  authorize([\"admin\", \"super_admin\", \"project_manager\", \"driver\"]),\r\n  getTodayProjectAttendance\r\n);\r\n\r\n// Add this to your existing attendanceRoutes.ts\r\nrouter.get(\r\n  \"/project/:projectId/summary\",\r\n  authenticate,\r\n  authorize([\"admin\", \"super_admin\", \"project_manager\", \"engineer\"]),\r\n  getAttendanceSummary\r\n);\r\nrouter.post(\r\n  \"/normal/:userId\",\r\n  authenticate,\r\n  authorize([\"super_admin\", \"admin\"]),\r\n  markAttendance\r\n);\r\nrouter.get(\"/normal/daily\", dailyNormalAttendance);\r\nrouter.get(\"/normal/monthly/:userId\", getNormalMonthlyAttendance);\r\n\r\nexport default router;\r\n"]}