{"version":3,"file":"bankRoutes.js","sourceRoot":"","sources":["../../src/routes/bankRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,kEASuC;AACvC,kEAAwE;AACxE,6CAA0C;AAE1C,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,6BAAY,CAAC,CAAC;AAEzB,0BAA0B;AAC1B,MAAM,CAAC,IAAI,CACT,GAAG,EACH,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC,EACjD,eAAM,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,CAAC,EAC/B,iCAAgB,CACjB,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,+BAAc,CAAC,CAAC,CAAC,2EAA2E;AAC5G,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,wCAAuB,CAAC,CAAC,CAAC,6BAA6B;AAC9E,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,wCAAuB,CAAC,CAAC,CAAC,sBAAsB;AAC1E,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,yCAAwB,CAAC,CAAC;AACtD,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,8BAAa,CAAC,CAAC,CAAC,0BAA0B;AAE7D,MAAM,CAAC,GAAG,CACR,MAAM,EACN,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC,EACjD,eAAM,CAAC,KAAK,CAAC,aAAa,EAAE,EAAE,CAAC,EAC/B,iCAAgB,CACjB,CAAC;AAEF,MAAM,CAAC,MAAM,CACX,MAAM,EACN,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC,EACjD,iCAAgB,CACjB,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\r\nimport {\r\n  createBankReport,\r\n  getBankReports,\r\n  getBankReport,\r\n  updateBankReport,\r\n  deleteBankReport,\r\n  getBankFinancialSummary,\r\n  getBankReportStatistics,\r\n  exportBankReportsToExcel,\r\n} from \"../controllers/bankController\";\r\nimport { authenticate, authorize } from \"../middlewares/authMiddleware\";\r\nimport { upload } from \"../config/multer\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.use(authenticate);\r\n\r\n// Bank Report CRUD routes\r\nrouter.post(\r\n  \"/\",\r\n  authorize([\"admin\", \"super_admin\", \"accountant\"]),\r\n  upload.array(\"attachments\", 10),\r\n  createBankReport\r\n);\r\n\r\nrouter.get(\"/\", getBankReports); // Supports year, month, type, shop, category, amount range, search filters\r\nrouter.get(\"/summary\", getBankFinancialSummary); // Financial aggregation data\r\nrouter.get(\"/statistics\", getBankReportStatistics); // Detailed statistics\r\nrouter.get(\"/export/excel\", exportBankReportsToExcel);\r\nrouter.get(\"/:id\", getBankReport); // Get single report by ID\r\n\r\nrouter.put(\r\n  \"/:id\",\r\n  authorize([\"admin\", \"super_admin\", \"accountant\"]),\r\n  upload.array(\"attachments\", 10),\r\n  updateBankReport\r\n);\r\n\r\nrouter.delete(\r\n  \"/:id\",\r\n  authorize([\"admin\", \"super_admin\", \"accountant\"]),\r\n  deleteBankReport\r\n);\r\n\r\nexport default router;\r\n"]}