{"version":3,"file":"lpoRoutes.js","sourceRoot":"","sources":["../../src/routes/lpoRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,kEAAwE;AACxE,gEAMsC;AACtC,6CAA0C;AAE1C,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,6BAAY,CAAC,CAAC;AAEzB,mCAAmC;AACnC,MAAM,CAAC,IAAI,CACT,GAAG,EACH,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC,EAC9C,eAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,cAAc;AAC5C,yBAAS,CACV,CAAC;AAEF,6BAA6B;AAC7B,MAAM,CAAC,GAAG,CACR,qBAAqB,EACrB,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,EAC1D,gCAAgB,CACjB,CAAC;AACF,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,eAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAE,EAAE,yBAAS,CAAC,CAAC;AAC7D,kBAAkB;AAClB,MAAM,CAAC,GAAG,CACR,MAAM,EACN,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,EAC1D,6BAAa,CACd,CAAC;AAEF,aAAa;AACb,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EAAE,yBAAS,CAAC,CAAC;AAEtE,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\r\nimport { authenticate, authorize } from \"../middlewares/authMiddleware\";\r\nimport {\r\n  createLPO,\r\n  getLPOsByProject,\r\n  getLPODetails,\r\n  deleteLPO,\r\n  updateLPO,\r\n} from \"../controllers/lpoController\";\r\nimport { upload } from \"../config/multer\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.use(authenticate);\r\n\r\n// Create LPO with document uploads\r\nrouter.post(\r\n  \"/\",\r\n  authorize([\"admin\", \"super_admin\", \"finance\"]),\r\n  upload.array(\"documents\", 5), // Max 5 files\r\n  createLPO\r\n);\r\n\r\n// Get all LPOs for a project\r\nrouter.get(\r\n  \"/project/:projectId\",\r\n  authorize([\"admin\", \"super_admin\", \"finance\", \"engineer\"]),\r\n  getLPOsByProject\r\n);\r\nrouter.put('/:id', upload.array('documents', 5 ), updateLPO);\r\n// Get LPO details\r\nrouter.get(\r\n  \"/:id\",\r\n  authorize([\"admin\", \"super_admin\", \"finance\", \"engineer\"]),\r\n  getLPODetails\r\n);\r\n\r\n// Delete LPO\r\nrouter.delete(\"/:id\", authorize([\"admin\", \"super_admin\"]), deleteLPO);\r\n\r\nexport default router;\r\n"]}