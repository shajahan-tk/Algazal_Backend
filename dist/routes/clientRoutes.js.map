{"version":3,"file":"clientRoutes.js","sourceRoot":"","sources":["../../src/routes/clientRoutes.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,sEAWyC;AACzC,kEAAwE;AAExE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,qCAAqC;AACrC,MAAM,CAAC,GAAG,CAAC,6BAAY,CAAC,CAAC;AAEzB,qBAAqB;AACrB,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EAAE,+BAAY,CAAC,CAAC;AACpE,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAU,CAAC,CAAC;AAC5B,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,4BAAS,CAAC,CAAC;AAC9B,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EAAE,+BAAY,CAAC,CAAC;AACtE,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EAAE,+BAAY,CAAC,CAAC;AAEzE,wBAAwB;AACxB,MAAM,CAAC,GAAG,CAAC,iBAAiB,EAAE,iCAAc,CAAC,CAAC;AAC9C,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,sCAAmB,CAAC,CAAC;AAErD,6BAA6B;AAC7B,MAAM,CAAC,IAAI,CACT,gBAAgB,EAChB,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EACnC,sCAAmB,CACpB,CAAC;AAEF,6BAA6B;AAC7B,MAAM,CAAC,IAAI,CACT,4CAA4C,EAC5C,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EACnC,wCAAqB,CACtB,CAAC;AAEF,8BAA8B;AAC9B,MAAM,CAAC,IAAI,CACT,mEAAmE,EACnE,IAAA,0BAAS,EAAC,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC,EACnC,yCAAsB,CACvB,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\r\nimport {\r\n  createClient,\r\n  getClients,\r\n  getClient,\r\n  updateClient,\r\n  deleteClient,\r\n  getClientByTrn,\r\n  getClientsByPincode,\r\n  addLocationToClient,\r\n  addBuildingToLocation,\r\n  addApartmentToBuilding,\r\n} from \"../controllers/clientController\";\r\nimport { authenticate, authorize } from \"../middlewares/authMiddleware\";\r\n\r\nconst router = express.Router();\r\n\r\n// Apply authentication to all routes\r\nrouter.use(authenticate);\r\n\r\n// Client CRUD routes\r\nrouter.post(\"/\", authorize([\"admin\", \"super_admin\"]), createClient);\r\nrouter.get(\"/\", getClients);\r\nrouter.get(\"/:id\", getClient);\r\nrouter.put(\"/:id\", authorize([\"admin\", \"super_admin\"]), updateClient);\r\nrouter.delete(\"/:id\", authorize([\"admin\", \"super_admin\"]), deleteClient);\r\n\r\n// Special client routes\r\nrouter.get(\"/trn/:trnNumber\", getClientByTrn);\r\nrouter.get(\"/pincode/:pincode\", getClientsByPincode);\r\n\r\n// Location management routes\r\nrouter.post(\r\n  \"/:id/locations\",\r\n  authorize([\"admin\", \"super_admin\"]),\r\n  addLocationToClient\r\n);\r\n\r\n// Building management routes\r\nrouter.post(\r\n  \"/:clientId/locations/:locationId/buildings\",\r\n  authorize([\"admin\", \"super_admin\"]),\r\n  addBuildingToLocation\r\n);\r\n\r\n// Apartment management routes\r\nrouter.post(\r\n  \"/:clientId/locations/:locationId/buildings/:buildingId/apartments\",\r\n  authorize([\"admin\", \"super_admin\"]),\r\n  addApartmentToBuilding\r\n);\r\n\r\nexport default router;\r\n"]}