{"version":3,"file":"vehicleModel.js","sourceRoot":"","sources":["../../src/models/vehicleModel.ts"],"names":[],"mappings":";;;AAAA,uCAA0D;AA0B1D,MAAM,gBAAgB,GAAG,IAAI,iBAAM,CAAc;IAC/C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;CAC3C,CAAC,CAAC;AAEH,MAAM,aAAa,GAAG,IAAI,iBAAM,CAC9B;IACE,aAAa,EAAE;QACb,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,IAAI;KAChB;IACD,WAAW,EAAE;QACX,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,OAAO,CAAC;KAC/D;IACD,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;IAClD,aAAa,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;IAC3D,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,CAAC;KAClC;IACD,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE;IACnC,gBAAgB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;IAChD,eAAe,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC/C,eAAe,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;IAC/B,cAAc,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;IACpD,MAAM,EAAE;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,aAAa,CAAC;QAC3C,OAAO,EAAE,QAAQ;KAClB;IACD,WAAW,EAAE,CAAC,gBAAgB,CAAC;IAC/B,SAAS,EAAE;QACT,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;QAC3B,GAAG,EAAE,MAAM;QACX,QAAQ,EAAE,IAAI;KACf;CACF,EACD,EAAE,UAAU,EAAE,IAAI,EAAE,CACrB,CAAC;AAEF,UAAU;AACV,aAAa,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC;AAC1C,aAAa,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;AACxC,aAAa,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;AACnC,aAAa,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;AACjC,aAAa,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;AAErB,QAAA,OAAO,GAAG,IAAA,gBAAK,EAAW,SAAS,EAAE,aAAa,CAAC,CAAC","sourcesContent":["import { Document, Schema, model, Types } from \"mongoose\";\r\n\r\nexport interface IVehicle extends Document {\r\n  vehicleNumber: string;\r\n  vehicleType: string;\r\n  make: string;\r\n  vechicleModel: string;\r\n  year: number;\r\n  color: string;\r\n  registrationDate: Date;\r\n  insuranceExpiry: Date;\r\n  lastServiceDate: Date;\r\n  currentMileage: number;\r\n  status: \"active\" | \"inactive\" | \"maintenance\";\r\n  attachments: Types.DocumentArray<IAttachment>;\r\n  createdBy: Types.ObjectId;\r\n  createdAt?: Date;\r\n  updatedAt?: Date;\r\n}\r\n\r\nexport interface IAttachment extends Document {\r\n  fileName: string;\r\n  fileType: string;\r\n  filePath: string;\r\n}\r\n\r\nconst attachmentSchema = new Schema<IAttachment>({\r\n  fileName: { type: String, required: true },\r\n  fileType: { type: String, required: true },\r\n  filePath: { type: String, required: true },\r\n});\r\n\r\nconst vehicleSchema = new Schema<IVehicle>(\r\n  {\r\n    vehicleNumber: {\r\n      type: String,\r\n      required: true,\r\n      trim: true,\r\n      unique: true,\r\n      uppercase: true,\r\n    },\r\n    vehicleType: {\r\n      type: String,\r\n      required: true,\r\n      enum: [\"car\", \"truck\", \"van\", \"pickup\", \"motorcycle\", \"other\"],\r\n    },\r\n    make: { type: String, required: true, trim: true },\r\n    vechicleModel: { type: String, required: true, trim: true },\r\n    year: {\r\n      type: Number,\r\n      required: true,\r\n      min: 1900,\r\n      max: new Date().getFullYear() + 1,\r\n    },\r\n    color: { type: String, trim: true },\r\n    registrationDate: { type: Date, required: true },\r\n    insuranceExpiry: { type: Date, required: true },\r\n    lastServiceDate: { type: Date },\r\n    currentMileage: { type: Number, default: 0, min: 0 },\r\n    status: {\r\n      type: String,\r\n      enum: [\"active\", \"inactive\", \"maintenance\"],\r\n      default: \"active\",\r\n    },\r\n    attachments: [attachmentSchema],\r\n    createdBy: {\r\n      type: Schema.Types.ObjectId,\r\n      ref: \"User\",\r\n      required: true,\r\n    },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// Indexes\r\nvehicleSchema.index({ vehicleNumber: 1 });\r\nvehicleSchema.index({ vehicleType: 1 });\r\nvehicleSchema.index({ status: 1 });\r\nvehicleSchema.index({ make: 1 });\r\nvehicleSchema.index({ model: 1 });\r\n\r\nexport const Vehicle = model<IVehicle>(\"Vehicle\", vehicleSchema);\r\n"]}