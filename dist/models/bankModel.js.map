{"version":3,"file":"bankModel.js","sourceRoot":"","sources":["../../src/models/bankModel.ts"],"names":[],"mappings":";;;AAAA,uCAA0D;AA6B1D,MAAM,oBAAoB,GAAG,IAAI,iBAAM,CAAkB;IACvD,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;CAC3C,CAAC,CAAC;AAEH,MAAM,gBAAgB,GAAG,IAAI,iBAAM,CACjC;IACE,UAAU,EAAE;QACV,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,CAAC,MAAM,EAAE,SAAS,CAAC;KAC1B;IACD,UAAU,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;IAC1C,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE;IAChD,OAAO,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE;IACrC,WAAW,EAAE,CAAC,oBAAoB,CAAC;IACnC,SAAS,EAAE,EAAE,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IAEvE,qBAAqB;IACrB,QAAQ,EAAE,EAAE,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,UAAU,EAAE;IAC1D,IAAI,EAAE,EAAE,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;IAElD,wBAAwB;IACxB,WAAW,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE;CAC1C,EACD,EAAE,UAAU,EAAE,IAAI,EAAE,CACrB,CAAC;AAEF,UAAU;AACV,gBAAgB,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;AAC1C,gBAAgB,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3C,gBAAgB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;AACtC,gBAAgB,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC;AACzC,gBAAgB,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;AACxC,gBAAgB,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;AAEvB,QAAA,UAAU,GAAG,IAAA,gBAAK,EAAc,YAAY,EAAE,gBAAgB,CAAC,CAAC","sourcesContent":["import { Document, Schema, model, Types } from \"mongoose\";\r\n\r\nexport interface IBankAttachment extends Document {\r\n  fileName: string;\r\n  fileType: string;\r\n  filePath: string;\r\n}\r\n\r\nexport type BankReportType = \"adib\" | \"expense\";\r\n\r\nexport interface IBankReport extends Document {\r\n  reportType: BankReportType;\r\n  reportDate: Date;\r\n  amount: number;\r\n  remarks?: string;\r\n  attachments: Types.DocumentArray<IBankAttachment>;\r\n  createdBy: Types.ObjectId;\r\n\r\n  // ADIB Report Fields\r\n  category?: Types.ObjectId;\r\n  shop?: Types.ObjectId;\r\n\r\n  // Expense Report Fields\r\n  description?: string;\r\n\r\n  createdAt?: Date;\r\n  updatedAt?: Date;\r\n}\r\n\r\nconst bankAttachmentSchema = new Schema<IBankAttachment>({\r\n  fileName: { type: String, required: true },\r\n  fileType: { type: String, required: true },\r\n  filePath: { type: String, required: true },\r\n});\r\n\r\nconst bankReportSchema = new Schema<IBankReport>(\r\n  {\r\n    reportType: {\r\n      type: String,\r\n      required: true,\r\n      enum: [\"adib\", \"expense\"],\r\n    },\r\n    reportDate: { type: Date, required: true },\r\n    amount: { type: Number, required: true, min: 0 },\r\n    remarks: { type: String, trim: true },\r\n    attachments: [bankAttachmentSchema],\r\n    createdBy: { type: Schema.Types.ObjectId, ref: \"User\", required: true },\r\n\r\n    // ADIB Report Fields\r\n    category: { type: Schema.Types.ObjectId, ref: \"Category\" },\r\n    shop: { type: Schema.Types.ObjectId, ref: \"Shop\" },\r\n\r\n    // Expense Report Fields\r\n    description: { type: String, trim: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n// Indexes\r\nbankReportSchema.index({ reportType: 1 });\r\nbankReportSchema.index({ reportDate: -1 });\r\nbankReportSchema.index({ amount: 1 });\r\nbankReportSchema.index({ createdBy: 1 });\r\nbankReportSchema.index({ category: 1 });\r\nbankReportSchema.index({ shop: 1 });\r\n\r\nexport const BankReport = model<IBankReport>(\"BankReport\", bankReportSchema);\r\n"]}